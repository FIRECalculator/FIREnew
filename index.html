<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            Retirement Calculator - Inflation, residence applied
        </title>
        <style type="text/CSS">
            html{
                font-size: 22px;
            }
            h1{
                font-size: 53px;
                font-weight: bolder;
                line-height: 20%;
            }

            h2{
                font-size: 31px;
                line-height: 10%;

            }
            h3{
                font-size: 19px;
                line-height: 0.4;
                font-weight: bolder;
            }
            h4{
                font-size: 13px;
                line-height: 0em;
            }
            h5{
                font-size: 11px;
                line-height: 0px;
            }
            h51{
                font-size: 110px;
                line-height: 0em;
            }
            h52{
                font-size: 110px;
                line-height: 0em;
            }
            h53{
                font-size: 110px;
                line-height: 0em;
            }
            h54{
                font-size: 110px;
                line-height: 0em;
            }
            h100{
                font-size: 2px;
                line-height: 0em;
            }
            p {
                color:black;
                font-size: 25px;
                font-weight: 0;
                margin-left: 300px;
                margin-right: 300px;
                line-height: 160%;
            }
            a {
                text-decoration: none;
                font-weight: bold;
            }

        .blll {
        color:red;
        }
        .result {
        color:Navy;
        font-size: 35px;
        }
        .netassetfire {
        color:Green;
        font-size: 22px;
        margin-left:140px;
        }

        .cashrati{
          color:blue;
          font-weight: bolder;
        }

        .cheerup {
        color:blue;
        font-size: 21px;
        }
        .reserved {
        color:black;
        font-size: 17px;
        text-align : center;
        }
        .button {
        background-color: blue;
        border: none;
        color: white;
        text-align: center;
        text-decoration:none;
        margin: 0px 0px;
        cursor: pointer;
        font-size: 22px;
        padding: 5px 5px;
        border-radius: 0px;
        height: 49px;
        width: 395px
      }

      .int-area label.warning {
          color: red !important;
          animation: warning .3s ease;
          animation-iteration-count: 3;
      }
      @keyframes warning {
          0% {trasnform: translatex(-8px);}
          25% {trasnform: translatex(8px);}
          50% {trasnform: translatex(-8px);}
          75% {trasnform: translatex(8px);}
      }

            #bold {
                font-weight: bold;
                font-size: 20px;
            }
            div {
                background-color: white;
                }

            .div0 {
                background-color: white;
                width: 560px;
                height: 848px;
                margin-top:60px;
                border: 3px solid white ;

            }
            .divA {
                background-color: white;
                width: 1200px;
                height: 70px;

                position: relative;
                top: 0px;
                left: 0px;
                margin-top:0px;
                margin-left:0px;
                padding-left: 0px;

                border: 3px solid white ;
                border-radius: 0px;
                font-size: 21px;
             }
            .divB1 {
                background-color: white;
                width: 280px; <!-- cash  -->
                height: 100px;

                float: left;

                margin:0px;
                padding-left: 0px;

                border: 3px solid white ;
                border-radius: 0px;
                font-size: 15px;
            }
            .divB2 {
              background-color: white;
              width: 280px; <!-- cash  -->
              height: 100px;

              float: left;

              margin:0px;
              padding-left: 0px;

              border: 3px solid white ;
              border-radius: 0px;
              font-size: 15px;
            }
            .divB30 {
                background-color: white;
                width: 440px; <!-- cash  -->
                height: 20px;

               float: left;

                margin:0px;
                padding-left: 0px;

                border: 3px solid white ;
                border-radius: 0px;
                font-size: 12px;

            }
            .divB3 {
              background-color: white;
              width: 280px; <!-- cash  -->
              height: 100px;

              float: left;

              margin:0px;
              padding-left: 0px;

              border: 3px solid white ;
              border-radius: 0px;
              font-size: 15px;
            }
            .divB4 {
              background-color: white;
              width: 280px; <!-- cash  -->
              height: 100px;

              float: left;

              margin:0px;
              padding-left: 0px;

              border: 3px solid white ;
              border-radius: 0px;
              font-size: 15px;
            }
            .divC1 {
                background-color: white;
                float:left;
                margin-top: 2%;
                margin-left: 1%;
                width:120px;
                box-sizing: border-box;
                border: 3px solid white ;

            }
            .divC2 {
              background-color: white;
              float:left;
              margin-top: 2%;
              margin-left: 1%;
              width:120px;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divC3 {
              background-color: white;
              float:left;
              margin-top: 6%;
              margin-left: 1%;
              width:120px;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divC4 {
              background-color: white;
              float:left;
              margin-top: 2%;
              margin-left: 1%;
              width:120px;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD01 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 36px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD1 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 25px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD11 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 46px;
              width:140px;;
              box-sizing: border-box;
              border: 2px solid white ;
            }
            .divD12 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 34px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
              padding-top: 0px;
              padding-bottom: 0px;
            }
            .divD2 {
              background-color: white;
              float:left;
              margin-top: 02%;
              margin-left: 1%;
              width:140px;;
              height:20px;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD3 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              width:140px;;
              height:0px;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD31 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 46px;
              width:140px;;
              box-sizing: border-box;
              border: 2px solid white ;
            }
            .divD32 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 34px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
            }

            .divD4 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              width:140px;;
              height:90px;
              box-sizing: border-box;
              border: 3px solid red ;
            }
            .divD41 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 25px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD42 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 25px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divD43 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 1%;
              height: 25px;
              width:140px;;
              box-sizing: border-box;
              border: 3px solid white ;
            }





            .divh0 {
              width: 1080px;
              height: 715px;

              position: absolute;
              top: 200px;
              left: 750px;
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 0%;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divh1 {
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 0%;
              width:100%;
              height:70px;
              box-sizing: border-box;
              border: 3px solid white ;
            }
            .divh21 {
              background-color: white;
              float: left;
              margin-top: 0%;
              margin-left: 0%;
              width:57%;
              height:85px;
              box-sizing: border-box;
              border: 3px solid white ;
              font-size: 33px;
              padding-right:0px;
            }
            .divh22 {
              background-color: white;
              float: left;
              margin-top: 0%;
              margin-left: 0%;
              width:10%;
              height:85px;
              box-sizing: border-box;
              border: 3px solid white ;
              font-size: 33px;
            }
            .divh23 {
              background-color: white;
              float: left;
              margin-top: 0%;
              margin-left: 0%;
              width:33%;
              height:85px;
              box-sizing: border-box;
              border: 3px solid white ;
              font-size: 33px;
              font-weight: bold;
            }
            .chartBox {
                width: 1000px;
                height: 600px;
            }
            .divh31 {
              background-color: white;
              float: left;
              margin-top: 0%;
              margin-left: 0%;
              width:73%;
              height:68px;
              box-sizing: border-box;
              border: 3px solid white ;
              font-size: 33px;
              padding-right:7px;
            }
            .divh32 {
              background-color: white;
              float: left;
              margin-top: 0%;
              margin-left: 0%;
              width:27%;
              height:68px;
              box-sizing: border-box;
              border: 3px solid white ;
              font-size: 33px;
            }

            .divh4 {
              width: 1000px;
              height: 30px;


              top: 0px;
              left: 0px;
              background-color: white;
              float:left;
              margin-top: 0%;
              margin-left: 0%;
              box-sizing: border-box;
              border: 3px solid white ;
            }



            .divbottom {
              width: 1300px;
              height: 150px;

              position: absolute;
              bottom: px;
              left: 330px;
              background-color: white;
              float:left;
              margin-top: 15%;
              margin-left: 0%;
              box-sizing: border-box;
              border: 3px solid white ;
            }

            input
            {
              position: relative;
              display: inline-block;
              font-size: 15px;
              font-weight: bold;
              box-sizing: border-box;

                          align-items: right;

              transition: .5s;
            }
            input[type="text"]
            {
              background: #fff;
              width: 100px;
              height: 47px;
              margin-top: 0px;
              margin-bottom: 0px;
              outline:none;
              padding: 0px 10px;
              border-radius: 0px 0 0 0px ;
            }

            .list01 {
              margin-left: 300px;
              margin-right: 300px;
              list-style: disc;
              line-height: 180%;
            }
            .list02 {
              margin-left: 0px;
              margin-right: 0px;
              list-style: square;
            }
            .list03 {
              margin-left: 0px;
              margin-right: 0px;
              list-style: circle;
            }


            body {
                margin-left:100px;
                font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif''
                border-radius: 0px 0 0 0px;
              }
        </style>




<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=6304d92dcb5b41001946a115&product=inline-share-buttons' async='async'></script>


    </head>
    <body>


<!--
        <p> https://blog.naver.com/mide995/222109235892 : div

-->
        <div class="div0">

        <div class="divB1">

        <!--
        <p>Choose the way of residence (renting vs. owning a home)</p><br>
        <select name="type-residence">
            <option value="rent">rent</option>
            <option value="ownership">ownership</option>
        </select>
      -->

        <h3><label for="total-asset"> PORTFOLIO</label></h3>
        <h4><label for="total-asset">(Current worth. Unrelated to home)</label> </h4>
        <h4><br></h4>
        <h3><label for="total-liability">LIABILITY </label> </h3>
        <h4><label for="total-liability">(Interest-bearing loan)</label></h4>
<!--
        <p>Choose the way of living</p><br>
        <select name="house-type">
            <option value="ownership">ownership</option>
            <option value="rent">rent</option>
        </select> <br>
-->
        <h4><br></h4>
        <h3><label for="price-house-deposit">PRICE OF HOUSE/DEPOSIT</label></h3>
        <h4><label for="price-house-deposit">(From tomorrow, ownership/renting)</label> </h4>
        <hr>
      </div>

      <div class = "divC1">

        <input type="text" style= "text-align: right" id="total-asset" onKeyDown="checkFloat(event, this.value);"  placeholder="" ><br>
        <h51></51>
        <input type="text" style= "text-align: right" id="total-liability"  onKeyDown="checkFloat(event, this.value);"  placeholder=""><br>
        <h52></h52>
        <input type="text" style= "text-align: right" id="price-house-deposit" onKeyDown="checkFloat(event, this.value);"  placeholder="">

      </div>



      <div class = "divD1">
      <h4 class="cashrati">Select cash ratio</h4>
      </div>
      <div class = "divD01">
        <select id="cashratio">

          <option value="ignorecash">Don't care cash held</option>
          <option value="0%">0%</option>
          <option value="5%">5%</option>
          <option value="10%">10%</option>
          <option value="15%">15%</option>
          <option value="20%">20%</option>
          <option value="25%">25%</option>
          <option value="30%">30%</option>
          <option value="35%">35%</option>
          <option value="40%">40%</option>
          <option value="45%">45%</option>
          <option value="50%">50%</option>
          <option value="55%">55%</option>
          <option value="60%">60%</option>
          <option value="65%">65%</option>
          <option value="70%">70%</option>
          <option value="75%">75%</option>
          <option value="80%">80%</option>
          <option value="85%">85%</option>
          <option value="90%">90%</option>
          <option value="95%">95%</option>
          <option value="100%">100%</option>
      </select>

<!--      <input id = "cash-ratio" type="range" value = "20" min ="0" max = "100" step "10">  -->
      </div>


      <div class = "divD1">

      </div>
      <div class = "divD1">

      </div>
      <div class = "divD11">
      <h4 style="color:blue;">Choose the current</h4>
      <h4>way of living</h4>
    </div>

      <div class = "divD12">
        <select id="selectvalue">
          <option value="noselect">Select</option>
          <option value="ownership">Ownership</option>
          <option value="renting">Renting</option>
      </select>


      </div>



        <div class="divB2">

        <h3><label for="annual-income">ANNUAL INCOME</label></h3>
        <h4><label for="annual-income">(Post tax)</label></h4>
        <h4><br></h4>
        <h3><label for="annual-rent">ANNUAL RENT (12 * RENT)</label></h3>
        <h4><label for="annual-rent">(From tomorrow, in case of renting) </label></h4>
        <h4><br></h4>
        <h3><label for="cost-living">ANNUAL LIVING EXPENSES</label></h3>
        <h4><label for="cost-living">(From tomorrow, <strong>excluding rent)</strong></label></h4>
        <hr>

      </div>

      <div class = "divC2">

        <input type="text" style= "text-align: right"  id="annual-income" onKeyDown="checkFloat(event, this.value);"  placeholder=""><br>
        <h51></51>
        <input type="text" style= "text-align: right"  id="annual-rent"  onKeyDown="checkFloat(event, this.value);"  placeholder="If renting"><br>
        <h52></h52>
        <input type="text" style= "text-align: right" id="cost-living" onKeyDown="checkFloat(event, this.value);"  placeholder="">

      </div>


      <div class = "divD2">
    <!-- blank -->
      </div>



<div class="divB3">

        <h3><label for="price-house-deposit-FIRE">PRICE OF HOUSE/DEPOSIT</label></h3>
        <h4 style="color:blue;"><label for="price-house-deposit-FIRE">(At the time of <STRONG>FIRE</STRONG>, at this point,</label> </h4>
        <h4><label for="price-house-deposit-FIRE">&nbsp in case of ownership/rent)</label></h4>
        <h4><br></h4>
        <h3><label for="rent-FIRE">ANNUAL RENT</label></h3>
        <h4 style="color:blue;"><label for="rent-FIRE">(At the time of <STRONG><EM>FIRE</EM></STRONG>, at this point)</label></h4>

</div>

<div class = "divC3">

  <input type="text" style= "text-align: right" id="price-house-deposit-FIRE" onKeyDown="checkFloat(event, this.value);"  placeholder=""><br>
  <h51></51>
  <input type="text" style= "text-align: right" id="rent-FIRE"  onKeyDown="checkFloat(event, this.value);"  placeholder="If renting"><br>

</div>



  <div class="divD3">
  </div>

  <div class = "divD31">
  <h4 style="color:blue;">Select the desired </h4>
    <h4>way of living</h4>
  </div>

  <div class = "divD32">

  <select id="selectvalueFIRE">
      <option value="noselect">Select</option>
      <option value="ownership">Ownership</option>
      <option value="renting">Renting</option>
  </select>


</div>

<!--
        <p>Select expected investment environment</p><br>
        <select name="investment-environment">
            <option value="Normal" > Normal </option>
            <option value="Bullish"> Bullish Random </option>
            <option value="Bearish"> Bearish Random </option>
        </select>
-->

<div class="divB30">
        <h3> - INVESTMENT ENVIRONMENT</h3>
</div>

<div class="divB4">
        <h3><label for="inflation-rate">EXPECTED INFLATION RATE</label></h3>
        <h4><label for="inflation-rate">(Average inflation rate is %)</label></h4>
        <h4><br></h4>
        <h3><label for="return-investment">RETURN ON PORTFOLIO</label></h3>
        <h4><label for="return-investment">(10%~15% is recommended)</label></h4>
        <h4><br></h4>
        <h3><label for="dividend-yield">DIVIDEND YIELD</label></h3>
        <h4><label for="dividend-yield">(Dividends on portfolio give stability)</label></h4>
</div>

        <div class = "divC4">
          <input type="text" style= "text-align: right" id="inflation-rate" onKeyDown="checkFloat(event, this.value);"  placeholder="Except %"><br>
          <h51></51>
          <input type="text" style= "text-align: right" id="return-investment"  onKeyDown="checkFloat(event, this.value);"  placeholder="Excep %"><br>
          <h52></h52>
          <input type="text" style= "text-align: right" id="dividend-yield" onKeyDown="checkFloat(event, this.value);"  placeholder="Excep %">
        </div>
        <button class="button" id="Click-me">Calculate!</button>
        </div>



        <div class="divD41">

        </div>
        <div class="divD42">

        </div>
        <div class="divD43">

        </div>







        <div class="divh0">

        <div class="divh1">
        <h3 align= "center">This site provides concise and correct method to predict the FIRE time through reflecting</h3>
        <h3 align = "center"> the real world including inflation, cash held, dividends and the way of residence (renting vs. owning a home)</h3>
        </div>

        <div class="divh21">
            <h1  align= "right"> You can FIRE in</h1>
        </div>
        <div class="divh22">
            <h1  align= "center" id="result"> </h1>
        </div>
        <div class="divh23">
            <h1  align= "left"> years</h1>
        </div>

        <div class="divh31">
            <h2  align= "right"> The net worth at the time of FIRE is</h2>
        </div>
        <div class="divh32">
            <h2  align= "left" id="net-assets"> </h2>
        </div>
        <div class="divh4">
          <h4 >&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp After calculating, a finance graph will be shown. If you retry, please refresh this page and use. We are improving it...</h4>
        </div>

        <div class="chartBox">
        <canvas id="myChart"></canvas>
        </div>

<!--
        <div class="chartBox">
        <canvas id="myChart2"></canvas>
        </div>
-->

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


      </div>
<!--
        <br><p>Net asset is <input type="text" style="text-align: right; padding-right: 10px;" id="net-asset" size="8" placeholder="auto cal."> </p>
        <br><p>Monthly interest expense on total liabilities<input type="text" style="text-align: right; padding-right: 10px;" id="interest-expense" onKeyDown="checkFloat(event, this.value);" size = "8" placeholder=""></p>
        <br><p>Monthly cash flow is  <input type="text" style="text-align: right; padding-right: 10px;" id="cash-flow" onKeyDown="checkFloat(event, this.value);" size = "8"  placeholder="auto cal."> </p>

-->



         <!-- -
          https://www.youtube.com/watch?v=A7G-kAyfxqY
         -->


<!-- moving emoticon https://tenor.com/search/moving-emoticon-gifs -->
<!-- html color  https://sidepower.tistory.com/168 -->
<!-- share sharethis.com/  -->
<!--emoji https://getemoji.com/  -->

        <p></p><br>
        <p></p><br>
        <p></p><br>
        <p></p><br>
<!-- broken..
<img width ="50%" height = "50%" src="https://images.unsplash.com/photo-1468818438311-4bab781ab9b8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTN8fGZpbmFuY2lhbCUyMGZyZWV8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60" alt="driving woman">
-->

        <h2 align= "left">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp &nbsp &nbsp &nbsp &nbsp&nbsp&nbsp&nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp Explained</h2>
        <p style="">This site provides concise and correct method to predict the time you can FIRE. To accurately reflect reality, the calculator requires inflation rate, treturn on investment, cash held, dividends yield, as well as basic factors such as housing costs, living expenses and interestexpense. Also Instead of difficult terms such as withdrawal rate, actual costs are entered immediately.</p>
        <ul class="list01">
            <li>The timing of FIRE varies not only by living expenses but also by the way of residence (renting vs. owning a home)</li>
            <li>For stability, it was assumed that FIRE is possible when after-tax return on investment exceeds the cost of living. For this reason, your assets will increase even after FIRE.</li>
            <li>Cash held and dividends from investments will protect you from working again even if markets fall for two consecutive years. In order to achieve this goal, it was assumed that FIRE is possible when Cash held and dividends from investments over the next two years exceed the living cost, monthly rent and interest expense for two years</li>
            <li>Summarizing the conditions for retirement(FIRE), </li>
                <ul class="list02">
                <li><em><strong>Condition1</strong></em>: Expected return on investment(after-tax) exceeds the cost of living, rent and interest expense each year</li>
                <li><em><strong>Condition2</strong></em>: Cash held and expected dividends from investments over the next two years exceed the living cost, rent and interest expense for two years</li>
                      <ul class="list02">
                        <li>If you select 'Don't care cash held' in 'Select cash ratio' option above, system ignores Condition2 for FIRE.</li>
                      </ul>
                </ul>
            <li>This calculator reflects inflation</li>

                <ul class="list02">
                <li>Not only house prices but also monthly rent/deposits go up as prices rise</li>
                <li>Cash flows(Net income, cost of living) increase with inflation</li>
                <li>The loan interest rate = inflation rate + 2%</li>
                </ul>
        </ul>






<div class= "divbottom">
  <hr>
        <h4><br></h4>
        <p class="reserved">Copyright © 2022 Invest 2 FIRE - All Rights Reserved.</p>
        <h3><br></h3>
</div>


        <script type = "text/javascript">


//<p>diviend yield from investment(post tax)  <input type="text" style="text-align: right; padding-right: 10px;" id="diviend-yield" onKeyUp="removeChar(event); inputNumberFormat(this);" onKeyDown="inputNumberFormat(this);" size >  %</p>

            function checkFloat(event, v){
              var key = event.key;
              console.log(key);
              //if(key == 'Process') event.preventDefault();  //don't work
              if((key >=0 && key <10) || key == 'Backspace' || key == 'Delete' || key == 'ArrowLeft' || key == 'ArrowRight'){
                return true;
              }   else if (key == '.'){
                          if(v =='') event.preventDefault();
                            else if (v.indexOf('.') === -1) return true;
                                  else event.preventDefault();  //eventually, do work.
              } else{
                event.preventDefault();   //
              }
            }

// alert generate. cursor place : jquery element focus google search
// Tab move

//javascript operator https://blog.naver.com/seojin0124/222852485943

          document.getElementById("Click-me").onclick = function() {
               let count=0;

               var a, b, c, e, f, g, h, j, k, l, m, loanrate, netasset, interestexpense, cashflow, results;
               var cashrat;

               cashrat =  parseInt(document.getElementById("cashratio").value)*0.01;

//               cashrat =  document.getElementById("cashratio").value;
               a = parseInt(document.getElementById("total-asset").value);
               b = parseInt(document.getElementById("total-liability").value);
               c = parseInt(document.getElementById("price-house-deposit").value);
               e = parseInt(document.getElementById("annual-income").value);
               f = parseInt(document.getElementById("annual-rent").value);
               g = parseInt(document.getElementById("cost-living").value);
               h = parseInt(document.getElementById("price-house-deposit-FIRE").value);
               j = parseInt(document.getElementById("rent-FIRE").value);
               k = parseInt(document.getElementById("inflation-rate").value)*0.01;
               l = parseInt(document.getElementById("return-investment").value)*0.01;
               m = parseInt(document.getElementById("dividend-yield").value)*0.01;




               var totalasset = [];
 /*              var totalliability = [];    consider as constant */
               var pricehousedeposit = [];
               var annualincome = [];
               var annualrent = [];
               var costliving = [];
               var pricehousedepositFIRE = [];
               var annualrentFIRE = [];
               var dividendyield = [];

               var cashflow = [];
               var returns = [];
               var dividend = [];

               var cashflowreturn = [];
               var netasset = [];

               var annualrentvirtualFIRE = [];
               var totalassetvirtualFIRE = [];
               var pricehousedepositvirtualFIRE = [];
               var returnsvirtualFIRE = [];
               var dividendvirtual = [];
               var cashvirtual = [];

               if(count == 0){
                   var selectvalue = document.getElementById('selectvalue').value;
                   if(selectvalue == "noselect"){
                      alert("Choose the current way of living");
                      count = 1;
                   }
                   else if(selectvalue == "ownership"){
                     annualrent[0] = 0;

                   }
                      else if(selectvalue == "renting"){
                       annualrent[0] = f;
                     }
               }

                 if(count == 0){
                     var selectvalueFIRE = document.getElementById('selectvalueFIRE').value;
                     if(selectvalueFIRE == "noselect"){
                          alert("Select the desired way of living");
                          count = 1;
                       }
                      else if(selectvalueFIRE == "ownership"){
                            annualrentFIRE[0] = 0;
                      }
                        else if(selectvalueFIRE == "renting"){
                            annualrentFIRE[0] = 0;    //j라고 넣으면 첫해부터 cashflow에 영향미침
                        }
                  }


               if((document.getElementById("total-asset").value=="")&&(count==0)){
/*
                  document.getElementById('total-asset').next('label').addClass('warning');
              		setTimeout(function() {
              		document.getElementById('total-asset').next('label').removeClass('warning');
              		}, 1500);
TO do this, in input. 'required' in necessary... in this text, required don't work
*/
                   alert("Enter portfolio worth");
                   count=1;
               }
               if((document.getElementById("total-liability").value=="")&&(count==0)){
                   alert("Write down liabilities");
                   count=1;
              }

              if((document.getElementById("price-house-deposit").value=="")&&(count==0)){
                  alert("Write down the house price/deposit");
                   count=1;
              }
               if((document.getElementById("annual-income").value=="")&&(count==0)){
                   alert("Enter annual income");
                   count=1;
               }
               if((document.getElementById("annual-rent").value=="")&&(count==0)&&(selectvalue == "renting")){
                   alert("Write down annual rent");
                   count=1;
               }
               if((document.getElementById("cost-living").value=="")&&(count==0)){
                   alert("Write down annual living expenses");
                   count=1;
               }
               if((document.getElementById("price-house-deposit-FIRE").value=="")&&(count==0)){
                   alert("Write down the house price/deposit at the time of FIRE at this point");
                   count=1;
               }
                 if((document.getElementById("rent-FIRE").value=="")&&(count==0)&&(selectvalueFIRE == "renting")){
                   alert("Write down the annual rent at the time of FIRE at this point");
                   count=1;
               }
               if((document.getElementById("inflation-rate").value=="")&&(count==0)){
                   alert("Write down the inflation rate");
                   count=1;
               }
               if((document.getElementById("return-investment").value=="")&&(count==0)){
                   alert("Enter the return on portfolio");
                   count=1;
               }
               if((document.getElementById("dividend-yield").value=="")&&(count==0)){
                   alert("Enter the dividend yield");
                   count=1;
               }


              if(isNaN(a) && count==0){
               alert("Not a number is entered\nEnter numbers in portfolio");
                   count=1;
               }
               if(isNaN(b) && count==0){
               alert("Not a number is entered\nEnter numbers in liability");
                   count=1;
               }
               if(isNaN(c) && count==0){
               alert("Not a number is entered\nEnter numbers in price of a house/deposit");
                   count=1;
               }
               if(isNaN(e) && count==0){
               alert("Not a number is entered\nEnter numbers in annual income");
                   count=1;
               }
               if(isNaN(f) && count==0 &&(selectvalue == "renting")){
               alert("Not a number is entered\nEnter numbers in annual rent");
                   count=1;
               }
               if(isNaN(g) && count==0){
               alert("Not a number is entered\nEnter numbers in living expense excluding rent");
                   count=1;
               }
               if(isNaN(h) && count==0){
               alert("Not a number is entered\nEnter numbers in price of a house/deposit at FIRE");
                   count=1;
               }
               if(isNaN(j) && count==0 &&(selectvalueFIRE == "renting")){
               alert("Not a number is entered\nEnter numbers in rent at FIRE");
                   count=1;
               }
               if(isNaN(k) && count==0){
               alert("Not a number is entered\nEnter numbers in inflation rate");
                   count=1;
               }
               if(isNaN(l) && count==0){
               alert("Not a number is entered\nEnter numbers in return on portfolio");
                   count=1;
               }
               if(isNaN(m) && count==0){
               alert("Not a number is entered\nEnter numbers in dividend yield");
                   count=1;
               }


              //alert(b);


              var jj, kk;
              jj = 0;
              kk = 0;
              results = 100;

              loanrate = k + 0.02;
              interestexpense = b * loanrate ;


              totalasset[0] = a ;
              pricehousedeposit[0] = c;
              annualincome[0] = e;
              costliving[0]= g;
              pricehousedepositFIRE[0]= 0;
              dividendyield [0] = 0;

              cashflow[0] = 0;

              returns [0] = 0;
              dividend [0] = 0;

              annualrentvirtualFIRE [0] = j;
//              totalassetvirtualFIRE [0] = 0;
              pricehousedepositvirtualFIRE [0] = h;
              returnsvirtualFIRE [0] = 0;
              returnsvirtualFIRE [1] = 0;

//              dividendvirtual [0] = 0 ;
//              dividendvirtual [1] = 0 ;
              cashvirtual [0] = 0;
              cashvirtual [1] = 0;



              cashflowreturn [0] = 0;
              netasset [0] = a - b + c ;



/*
a     total-asset
b     total-liability
c     price-house-deposit
e     annual-income
f     annual-rent
g     cost-living
h     price-house-deposit-FIRE
j     rent-FIRE
k     inflation-rate
l     return-investment
m     dividend-yield
*/
      if(count==0){

              for(jj = 0; jj<=30; jj = jj + 1){

                if(jj == 0){
                  if(selectvalue == "ownership") {
                     pricehousedeposit[jj+1] = pricehousedeposit[jj] * (1 + k);
                  }
                  if(selectvalue == "renting") {
                      pricehousedeposit[jj+1] = pricehousedeposit[jj];
                  }

                    if(selectvalueFIRE == "ownership") {
                        annualrentvirtualFIRE[jj] = 0 ;
                        annualrentvirtualFIRE[jj+1] = 0 ;

                        pricehousedepositvirtualFIRE[jj+1] = pricehousedepositvirtualFIRE[jj] * (1 + k);
                    }
                    if(selectvalueFIRE == "renting") {
                          annualrentvirtualFIRE[jj+1] = annualrentvirtualFIRE[jj] * (1 + k);
                    }
                 }

                if(jj > 0){
                      costliving [jj] = costliving[jj-1] * (1 + k);
                      annualincome[jj] = annualincome[jj-1] * (1 + k);
                      annualrent[jj] = annualrent[jj-1] * (1 + k);

                       if(kk == 0){

                            if(selectvalue == "ownership") {
                               pricehousedeposit[jj] = pricehousedeposit[jj-1] * (1 + k);
                               pricehousedeposit[jj+1] = pricehousedeposit[jj] * (1 + k);
                            }
                            if(selectvalue == "renting") {
                                pricehousedeposit[jj] = pricehousedeposit[jj-1];
                                pricehousedeposit[jj+1] = pricehousedeposit[jj];
                            }

                              if(selectvalueFIRE == "ownership") {
//                                  annualrentFIRE[jj] = 0;

                                  annualrentvirtualFIRE[jj] = 0 ;
                                  annualrentvirtualFIRE[jj+1] = 0 ;

                                  pricehousedepositvirtualFIRE[jj] = pricehousedepositvirtualFIRE[jj-1] * (1 + k);
                                  pricehousedepositvirtualFIRE[jj+1] = pricehousedepositvirtualFIRE[jj] * (1 + k);
                              }
                              if(selectvalueFIRE == "renting") {
//                                    annualrentFIRE[jj] = annualrentFIRE[jj-1] * (1 + k);

                                    annualrentvirtualFIRE[jj] = annualrentvirtualFIRE[jj-1] * (1 + k);
                                    annualrentvirtualFIRE[jj+1] = annualrentvirtualFIRE[jj] * (1 + k);

                                    pricehousedepositvirtualFIRE[jj] = pricehousedepositvirtualFIRE[jj-1] * (1 + k);
                              }
                         }
                }




                  var increaseofreturnsvirtualFIRE;


                  if(kk == 0) {
                      totalassetvirtualFIRE[jj] = netasset[jj] + b - pricehousedepositvirtualFIRE[jj] ;
                      returnsvirtualFIRE[jj] = totalassetvirtualFIRE[jj] * l;
                      costliving [jj+1] = costliving[jj] * (1 + k);

                      cashvirtual[jj] = totalassetvirtualFIRE[jj] * cashrat ;

                      dividendvirtual [jj] = totalassetvirtualFIRE[jj] * m;
                      dividendvirtual [jj+1] = dividendvirtual [jj] * (1+l-m);

                      totalassetvirtualFIRE[jj+1] = totalassetvirtualFIRE[jj] +returnsvirtualFIRE[jj] - costliving[jj] - annualrentvirtualFIRE[jj] - interestexpense;
                      returnsvirtualFIRE[jj+1] = totalassetvirtualFIRE[jj+1] * l;
                      increaseofreturnsvirtualFIRE = returnsvirtualFIRE[jj+1]/returnsvirtualFIRE[jj]-1;
                  }

                      while(kk == 0 ){

                        if(document.getElementById("cashratio").value == "ignorecash"){   // if(cashrat == "ignorecash")  --> don't work..
//                                  alert("do work. ==");
                                  if(jj == 0){
//                                      alert(cashrat);
                                  }
                                  if((increaseofreturnsvirtualFIRE >= k) && (returnsvirtualFIRE[jj] >= (annualrentvirtualFIRE[jj] + costliving [jj] + interestexpense))) {

                                          results = jj;

                                          annualincome[jj] = 0;
                                          annualrent[jj] = 0;
                                          pricehousedeposit[jj] = 0;
                                          pricehousedeposit[jj+1] = 0;

                                          annualrentFIRE[jj] = j * Math.pow((1 + k), jj);
                                          pricehousedepositFIRE[jj] = h * Math.pow((1 + k), jj);

                                          totalasset[jj] =  totalassetvirtualFIRE[jj] ;

                                          kk = 1;
                                        }
                        }  //cashrati if. or else

                        if(document.getElementById("cashratio").value != "ignorecash"){

//                                  alert("do work. !=");
                                  if(jj==0){
//                                      alert(cashrat);
                                  }
                                  if((increaseofreturnsvirtualFIRE >= k) && (returnsvirtualFIRE[jj] >= (annualrentvirtualFIRE[jj] + costliving [jj] + interestexpense)) && ((cashvirtual[jj] + dividendvirtual [jj] + dividendvirtual [jj+1]) >= (costliving [jj] + costliving [jj+1]  + annualrentvirtualFIRE[jj] + annualrentvirtualFIRE[jj+1] + interestexpense * 2))) {

                                          results = jj;

                                          annualincome[jj] = 0;
                                          annualrent[jj] = 0;
                                          pricehousedeposit[jj] = 0;
                                          pricehousedeposit[jj+1] = 0;

                                          annualrentFIRE[jj] = j * Math.pow((1 + k), jj);
                                          pricehousedepositFIRE[jj] = h * Math.pow((1 + k), jj);

                                          totalasset[jj] =  totalassetvirtualFIRE[jj] ;

                                          kk = 1;
                                        }
                          } //cashrati if


                        break;
                      }  // while end

                      if(kk == 0){
                          annualrentFIRE[jj] = 0;
                          pricehousedepositFIRE[jj+1] = 0;
                      }
                      if(kk == 1){
                            annualrent[jj] = 0;
                            pricehousedeposit[jj] = 0;
                            pricehousedeposit[jj+1] = 0;
                            if(selectvalueFIRE == "ownership") {
                                annualrentFIRE[jj] = 0;
//                              pricehousedepositFIRE[jj] = pricehousedepositFIRE[jj-1] * (1 + k);
                                pricehousedepositFIRE[jj+1] = pricehousedepositFIRE[jj] * (1 + k);
                            }

                            if(selectvalueFIRE == "renting") {
                                  annualrentFIRE[jj+1] = annualrentFIRE[jj] * (1 + k);
//                                 pricehousedepositFIRE[jj] = pricehousedepositFIRE[jj-1] ;
                                  pricehousedepositFIRE[jj+1] = pricehousedepositFIRE[jj] ;
                              }
                      }

                      cashflow[jj] =  annualincome[jj] - annualrent[jj] - annualrentFIRE[jj] - costliving [jj] - interestexpense ;

                      returns [jj] = totalasset[jj] * l;
                      dividend [jj] = totalasset[jj]* m;

                      if(cashflow[jj] >= 0){
                         cashflowreturn[jj] = cashflow[jj]  + cashflow[jj] * (l * 0.447) + returns [jj];
                      }
                      else {
                         cashflowreturn[jj] = cashflow[jj] + returns [jj];
                      }

// this is necessary? Yes
                      totalasset[jj+1] = totalasset[jj] + cashflowreturn[jj];

                      netasset[jj+1] =  totalasset[jj+1] - b + pricehousedeposit[jj+1] + pricehousedepositFIRE[jj+1];

                  } // for end


                  var resulted = document.getElementById("result");
                  resulted.innerHTML = results;
                  resulted.style.color="SteelBlue";
                  resulted.style.bolder;
                  if(results == 100) {
                      resulted.innerHTML = "";
                      document.getElementById("net-assets").innerHTML = "";
                      alert("I'm sorry you can't retire in 30 years as this condition.\n Adjust the conditions and try again!");
                  }
                  if(results != 100) {
                      resulted.innerHTML = results;
                      document.getElementById("net-assets").innerHTML = Math.round(netasset[results]);
                      document.getElementById("net-assets").style.bolder;
                      document.getElementById("net-assets").style.color="OliveDrab";
                  }




                    //document.getElementById("total-asset-FIRE").innerHTML = "";





                const data = [];
                const data2 = [];
                const data3 = [];
                const data4 = [];
                const data5 = [];
                const data6 = [];
                const data7 = [];
                const data8 = [];
                let prev;
                let prev2;
                let prev3;
                let prev4;
                let prev5;
                let prev6;
                let prev7;
                let prev8;
                let year;

                const annualincome2 = [];
                const annualrent2 = [];
                const annualrentFIRE2 = [];
                const totalasset2 = [];
                const totalassetvirtualFIRE2 = [];
                const dividend2 = [];
                const dividendvirtual2 = [];
                const netasset2 = [];
                const cashflow2 = [];
                const cashflowreturn2 = [];

                for (let i = 0; i <= 30; i++) {
                  year = 2022 + i;
                  annualincome2[i] = Math.round(annualincome[i]) ;
                  annualrent2[i] = Math.round(annualrent[i]) ;
                  annualrentFIRE2[i] = Math.round(annualrentFIRE[i]) ;
                  totalasset2[i] = Math.round(totalasset[i]) ;
                  totalassetvirtualFIRE2[i] = Math.round(totalassetvirtualFIRE[i]) ;
                  dividend2[i] = Math.round(dividend[i]) ;
                  dividendvirtual2[i] = Math.round(dividendvirtual[i]) ;
                  netasset2[i] = Math.round(netasset[i]) ;
                  cashflowreturn2[i] = Math.round(cashflowreturn[i]) ;
                  }


                for (let i = 0; i <= 30; i++) {
                  year = 2022 + i;

                  prev = annualincome2[i];
                  data.push({x: year, y: prev});
                  prev2 = annualrent2[i];
                  data2.push({x: year, y: prev2});
                  prev3 = annualrentFIRE2[i];
                  data3.push({x: year, y: prev3});
                  prev4 = totalasset2[i];
                  data4.push({x: year, y: prev4});
                  prev5 = totalassetvirtualFIRE2[i];
                  data5.push({x: year, y: prev5});
                  prev6 = dividend2[i];
                  data6.push({x: year, y: prev6});
/*
                  prev7 = dividendvirtual2[i];
                  data7.push({x: year, y: prev7});
*/
                  prev7 = cashflowreturn2[i];
                  data7.push({x: year, y: prev7});
                  prev8 = netasset2[i];
                  data8.push({x: year, y: prev8});

/*
                  prev9 = cashflow2[i];
                  data9.push({x: year, y: prev9});
don't work. limit is 9?
*/
                  }

                  var ctx;

// doing this, don't draw                  ctx.clearRect(0,0,document.getElementById('myChart').width, document.getElementById('myChart').height);



                const totalDuration = 2000;
                const delayBetweenPoints = totalDuration / data.length;

                const previousY = (ctx) => ctx.index === 0 ? ctx.chart.scales.y.getPixelForValue(100) : ctx.chart.getDatasetMeta(ctx.datasetIndex).data[ctx.index - 1].getProps(['y'], true).y;


//                myChart.destroy();

                ctx = document.getElementById('myChart').getContext('2d');
//                ctx.clearRect(0, 0, canvas.width, canvas.height);


//                ctx.fillStyle = 'blue';   // ctx.strokeStyle = "blue";
//                ctx.fillRect(0, 0, 600, 300);  // ctx.strokeRect(,,,);
//                ctx.lneWidth = 4;
// filling color work after calculating



                var myChart = new Chart(ctx, {

                  type: 'line',
                  data: {
                    labels: ['Netasset', 'Dividend', 'Returns from Invest + Income - Cost'],
                    datasets: [{
                      label: 'Netasset',
                      borderColor: 'Navy',
//                      backgroundColor: '',
                      borderWidth: 1,
                      radius: 0,
                      data: data8,
                    },
                    {
                      label: 'Dividend',
                      borderColor: 'Green',
                      borderWidth: 1,
                      radius: 0,
                      data: data6,
                    },
                    {
                      label: 'Returns from Invest + Income - Cost',
                      borderColor: 'black',
                      borderWidth: 1,
                      radius: 0,
                      data: data7,
                    }]
                  },  //data
                  options: {
    //                responsive: false;
                    animation: {
                        x: {
                            type: 'number',
                            easing: 'linear',
                            duration: delayBetweenPoints,
                            from: NaN, // the point is initially skipped
                            delay(ctx) {
                              if (ctx.type !== 'data' || ctx.xStarted) {
                                return 0;
                              }
                              ctx.xStarted = true;
                              return ctx.index * delayBetweenPoints;
                            }
                        },  //x
                        y: {
                            type: 'number',
                            easing: 'linear',
                            duration: delayBetweenPoints,
                            from: previousY,
                            delay(ctx) {
                              if (ctx.type !== 'data' || ctx.yStarted) {
                                return 0;
                              }
                              ctx.yStarted = true;
                              return ctx.index * delayBetweenPoints;
                            }
                        }  //y
                    }, //animation
                    interaction: {
                      intersect: false
                    },
                    plugins: {
                      legend: false      //Legend enabling...
                    },
                    scales: {
                      x: {
                        beginAtZero: true,
                        min: 2022,
                        max: 2052,
                        type: 'linear'  //linear 'log'

                      },
                      y: {
                        suggestedMin: 0,
                        suggestedMax: netasset[30], //totalasset[70], //netasset[70],  으로하면 됐다, 안됐다 함
                      }
                    } //scales
                  } //options
                }); //mychart





/* 1st graph start. to use this, renaming variables is required
                var myChart = new Chart(ctx, {


                  type: 'line',
                  data: {
                    datasets: [{
                      label: 'annualincome',
                      borderColor: 'red',
                      borderWidth: 1,
                      radius: 0,
                      data: data,
                    },
                    {
                      label: 'annualrent',
                      borderColor: 'blue',
                      borderWidth: 1,
                      radius: 0,
                      data: data2,
                    },
                    {
                      label: 'annualrentFIRE',
                      borderColor: 'yellow',
                      borderWidth: 1,
                      radius: 0,
                      data: data3,
                    },
                    {
                      label: 'dividend',
                      borderColor: 'pink',
                      borderWidth: 1,
                      radius: 0,
                      data: data6,
                    },
                    {
                      label: 'dividendvirtual',
                      borderColor: 'pink',
                      borderWidth: 1,
                      radius: 0,
                      data: data7,
                    }]
                  },  //data
                  options: {
    //                responsive: false;
                    animation: {
                        x: {
                            type: 'number',
                            easing: 'linear',
                            duration: delayBetweenPoints,
                            from: NaN, // the point is initially skipped
                            delay(ctx) {
                              if (ctx.type !== 'data' || ctx.xStarted) {
                                return 0;
                              }
                              ctx.xStarted = true;
                              return ctx.index * delayBetweenPoints;
                            }
                        },  //x
                        y: {
                            type: 'number',
                            easing: 'linear',
                            duration: delayBetweenPoints,
                            from: previousY,
                            delay(ctx) {
                              if (ctx.type !== 'data' || ctx.yStarted) {
                                return 0;
                              }
                              ctx.yStarted = true;
                              return ctx.index * delayBetweenPoints;
                            }
                        }  //y
                    }, //animation
                    interaction: {
                      intersect: false
                    },
                    plugins: {
                      legend: false      //Legend enabling...
                    },
                    scales: {
                      x: {
                        type: 'linear'  //linear 'log'

                      },
                      y: {
                        suggestedMin: 0,
                        suggestedMax: netasset[70], //totalasset[70], //netasset[70],  으로하면 됐다, 안됐다 함
                      }
                    } //scales
                  } //options
                }); //mychart

1st graph end   */



/* 2nd graph start

                const previousY2 = (ctx2) => ctx2.index === 0 ? ctx2.chart.scales.y.getPixelForValue(100) : ctx2.chart.getDatasetMeta(ctx2.datasetIndex).data[ctx2.index - 1].getProps(['y'], true).y;

//                myChart.destroy();

                var ctx2 = document.getElementById('myChart2').getContext('2d');
//                ctx.clearRect(0, 0, canvas.width, canvas.height);
                var myChart = new Chart(ctx2, {


                  type: 'line',
                  data: {
                    datasets: [{
                      label: 'totalasset',
                      borderColor: 'black',
                      borderWidth: 1,
                      radius: 0,
                      data: data4,
                    },
                    {
                      label: 'totalassetvirtualFIRE',
                      borderColor: 'pink',
                      borderWidth: 1,
                      radius: 0,
                      data: data5,
                    },
                    {
                      label: 'netasset',
                      borderColor: 'pink',
                      borderWidth: 1,
                      radius: 0,
                      data: data8,
                    }]
                  },  //data
                  options: {
    //                responsive: false;
                    animation: {
                        x: {
                            type: 'number',
                            easing: 'linear',
                            duration: delayBetweenPoints,
                            from: NaN, // the point is initially skipped
                            delay(ctx2) {
                              if (ctx2.type !== 'data' || ctx2.xStarted) {
                                return 0;
                              }
                              ctx2.xStarted = true;
                              return ctx2.index * delayBetweenPoints;
                            }
                        },  //x
                        y: {
                            type: 'number',
                            easing: 'linear',
                            duration: delayBetweenPoints,
                            from: previousY,
                            delay(ctx2) {
                              if (ctx2.type !== 'data' || ctx2.yStarted) {
                                return 0;
                              }
                              ctx2.yStarted = true;
                              return ctx2.index * delayBetweenPoints;
                            }
                        }  //y
                    }, //animation
                    interaction: {
                      intersect: false
                    },
                    plugins: {
                      legend: false      //Legend enabling...
                    },
                    scales: {
                      x: {
                        type: 'linear'  //linear 'log'

                      },
                      y: {
                        suggestedMin: 0,
                        suggestedMax: netasset[70], //totalasset[70], //netasset[70],  으로하면 됐다, 안됐다 함
                      }
                    } //scales
                  } //options
                }); //mychart

2nd graph */
                }   // if of count end
            }  // function end


        </script>

    </body>


</html>
